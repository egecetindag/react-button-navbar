{"version":3,"file":"index.js","sources":["../src/Select.tsx"],"sourcesContent":["\nimport * as React from 'react';\nimport './select.scss';\n\nconst {  useState, useEffect, useRef } = React\n\nconst SelectComp: React.FC<{\n  currentPage: string\n  children: JSX.Element[];\n  onSelect: (str: string) => void\n}> = ({ currentPage, onSelect,children }) => {\n\n  const outRef = useRef<HTMLInputElement>(null);\n  const [open, setOpen] = useState(false);\n  const [selectedChildren, setChildren] = useState([] as any);\n  const [selected, setSelected] = useState<JSX.Element>();\n  const [offsetY, setOffsetY] = useState(0);\n\n  useEffect(() => {\n    if (children && children.constructor === Array){\n      setSelected(children.find(c => currentPage === c.props.value ));\n      setChildren(children.filter(c => currentPage !== c.props.value));\n    }\n  },[currentPage]);\n\n  useEffect(() => {\n    window.addEventListener(\"scroll\", () => handleScroll());\n    return () => window.removeEventListener(\"scroll\", handleScroll);\n  }, []);\n  \n  const handleScroll = () =>{\n    if(offsetY){}\n    setOffsetY((oldOffset: number)=>{\n    if(Math.abs(oldOffset  - window.pageYOffset) > 100){\n      setOpen(false);\n      return window.pageYOffset;\n    }\n   return oldOffset;});\n  \n  }\n\n  const useOutsideClick = ( callback: ()=>void) => {\n    const handleClick = (e: MouseEvent) => {\n      if (outRef && outRef.current && !outRef.current.contains(e.target as Node)) {\n        callback();\n      }\n    };\n    useEffect(() => {\n      document.addEventListener(\"click\", handleClick);\n  \n      return () => {\n        document.removeEventListener(\"click\", handleClick);\n      };\n    });\n  };\n\n    useOutsideClick( () => {\n      setOpen(false);\n    });\n  return (\n    <div ref={outRef} className=\"home-select\">\n      <div className=\"select-group\">\n        <div className=\"select-second-border\"/>\n        <button className=\"select-button\" onClick={()=>setOpen(!open)}>\n          <div className=\"text\">{selected ? selected.props.children : \"\"}</div>\n      </button>\n      </div>\n    <div className={`dropdown-menu ${open? \"active\" : \"hidden\"}`}>\n      {selectedChildren.map((c: JSX.Element,i:number) => \n        <div key={i} style={open ? {transform:`translateY(${i*42}px)`}:{}} className=\"dropdown-menu-item\">\n         <button onClick={\n           ()=>{setOpen(false);\n           onSelect(c.props.value)\n          }\n          }\n           >\n         {c}\n         </button>\n         </div>\n        )}\n    </div>\n    </div>\n  );\n}\n\nexport const Option: React.FC<{value: string}> = ({ value, children }) => {\n  return(\n  <div key={value}>{children}</div>\n  )\n}\n\nexport default SelectComp;"],"names":["React.useState","React.useEffect","React.useRef","React.createElement"],"mappings":"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"}